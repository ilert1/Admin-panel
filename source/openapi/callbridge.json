{
    "openapi": "3.1.0",
    "info": {
        "title": "BlowFish - CallBridge API Service",
        "version": "develop"
    },
    "paths": {
        "/health": {
            "get": {
                "tags": ["Health"],
                "summary": "Get Health",
                "operationId": "get_health_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HealthStatus"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/metrics": {
            "get": {
                "tags": ["Metrics"],
                "summary": "Get Metrics",
                "operationId": "get_metrics_metrics_get",
                "responses": {
                    "200": {
                        "description": "Successful Response"
                    }
                }
            }
        },
        "/callbridge/v1/mapping": {
            "get": {
                "tags": ["Callback mapping"],
                "summary": "List callback mappings",
                "operationId": "CallbackMappingEndpoints_list_mappings_callbridge_v1_mapping_get",
                "parameters": [
                    {
                        "name": "ids",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "List of identifiers for filtering",
                            "title": "Ids"
                        },
                        "description": "List of identifiers for filtering"
                    },
                    {
                        "name": "createdBefore",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Upper bound for creation date filter",
                            "title": "Createdbefore"
                        },
                        "description": "Upper bound for creation date filter"
                    },
                    {
                        "name": "createdAfter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Lower bound for creation date filter",
                            "title": "Createdafter"
                        },
                        "description": "Lower bound for creation date filter"
                    },
                    {
                        "name": "updatedBefore",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Upper bound for update date filter",
                            "title": "Updatedbefore"
                        },
                        "description": "Upper bound for update date filter"
                    },
                    {
                        "name": "updatedAfter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Lower bound for update date filter",
                            "title": "Updatedafter"
                        },
                        "description": "Lower bound for update date filter"
                    },
                    {
                        "name": "currentPage",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Current page number (starting from 1)",
                            "default": 1,
                            "title": "Currentpage"
                        },
                        "description": "Current page number (starting from 1)"
                    },
                    {
                        "name": "pageSize",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Number of records per page",
                            "default": 20,
                            "title": "Pagesize"
                        },
                        "description": "Number of records per page"
                    },
                    {
                        "name": "searchField",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Search fields",
                            "description": "List of fields to perform the search on"
                        },
                        "description": "List of fields to perform the search on"
                    },
                    {
                        "name": "searchString",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Search strings",
                            "description": "List of values to search for in corresponding fields"
                        },
                        "description": "List of values to search for in corresponding fields"
                    },
                    {
                        "name": "searchIgnoreCase",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "title": "Case sensitivity",
                            "description": "Determines if the search should be case insensitive",
                            "default": true
                        },
                        "description": "Determines if the search should be case insensitive"
                    },
                    {
                        "name": "orderBy",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Sorting field",
                            "description": "Field to sort the results by",
                            "default": "created_at"
                        },
                        "description": "Field to sort the results by"
                    },
                    {
                        "name": "sortOrder",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "enum": ["asc", "desc"],
                            "type": "string",
                            "title": "Sorting order",
                            "description": "Sort order: 'asc' or 'desc'",
                            "default": "desc"
                        },
                        "description": "Sort order: 'asc' or 'desc'"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_OffsetPagination_CallbackMappingRead__"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Callback mapping"],
                "summary": "Create callback mapping",
                "operationId": "CallbackMappingEndpoints_create_mapping_callbridge_v1_mapping_post",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CallbackMappingCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_CallbackMappingRead_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/mapping/by-external-path": {
            "post": {
                "tags": ["Callback mapping"],
                "summary": "Create or update callback mapping by internal path",
                "operationId": "CallbackMappingEndpoints_create_or_update_mapping_via_internal_path_callbridge_v1_mapping_by_external_path_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CallbackMappingCreate"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_CallbackMappingRead_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/mapping/{mapping_id}": {
            "get": {
                "tags": ["Callback mapping"],
                "summary": "Get callback mapping by ID",
                "operationId": "CallbackMappingEndpoints_get_mapping_callbridge_v1_mapping__mapping_id__get",
                "parameters": [
                    {
                        "name": "mapping_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "description": "The unique identifier of the callback mapping.",
                            "title": "Mapping Id"
                        },
                        "description": "The unique identifier of the callback mapping.",
                        "example": "123e4567-e89b-12d3-a456-426614174abc"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_CallbackMappingRead_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": ["Callback mapping"],
                "summary": "Update callback mapping",
                "operationId": "CallbackMappingEndpoints_update_mapping_callbridge_v1_mapping__mapping_id__put",
                "parameters": [
                    {
                        "name": "mapping_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "description": "The unique identifier of the callback mapping.",
                            "title": "Mapping Id"
                        },
                        "description": "The unique identifier of the callback mapping.",
                        "example": "123e4567-e89b-12d3-a456-426614174abc"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CallbackMappingUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_CallbackMappingRead_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": ["Callback mapping"],
                "summary": "Delete callback mapping",
                "operationId": "CallbackMappingEndpoints_delete_mapping_callbridge_v1_mapping__mapping_id__delete",
                "parameters": [
                    {
                        "name": "mapping_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "description": "The unique identifier of the callback mapping.",
                            "title": "Mapping Id"
                        },
                        "description": "The unique identifier of the callback mapping.",
                        "example": "123e4567-e89b-12d3-a456-426614174abc"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_NoneType_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/history/backup": {
            "get": {
                "tags": ["Callback backup"],
                "summary": "Get list all backup files with callback history records",
                "operationId": "CallbackHistoryBackupEndpoints_list_backups_callbridge_v1_history_backup_get",
                "parameters": [
                    {
                        "name": "currentPage",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Current page number (starting from 1)",
                            "default": 1,
                            "title": "Currentpage"
                        },
                        "description": "Current page number (starting from 1)"
                    },
                    {
                        "name": "pageSize",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Number of files per page",
                            "default": 20,
                            "title": "Pagesize"
                        },
                        "description": "Number of files per page"
                    },
                    {
                        "name": "createdAfter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Show up to this date (ISO)",
                            "title": "Createdafter"
                        },
                        "description": "Show up to this date (ISO)"
                    },
                    {
                        "name": "createdBefore",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Show from this date (ISO)",
                            "title": "Createdbefore"
                        },
                        "description": "Show from this date (ISO)"
                    },
                    {
                        "name": "sortOrder",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "enum": ["asc", "desc"],
                            "type": "string",
                            "description": "Sort order: 'asc' or 'desc'",
                            "default": "asc",
                            "title": "Sortorder"
                        },
                        "description": "Sort order: 'asc' or 'desc'"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_OffsetPagination_CallbackHistoryBackup__"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/history/backup/download": {
            "get": {
                "tags": ["Callback backup"],
                "summary": "Download archive history file from S3",
                "operationId": "CallbackHistoryBackupEndpoints_download_backup_callbridge_v1_history_backup_download_get",
                "parameters": [
                    {
                        "name": "fileName",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^\\d{4}-\\d{2}-\\d{2}\\.jsonl\\.gz$",
                            "title": "Backup file name",
                            "description": "Backup file name, format: YYYY-MM-DD.jsonl.gz"
                        },
                        "description": "Backup file name, format: YYYY-MM-DD.jsonl.gz"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/history/backup/restore": {
            "post": {
                "tags": ["Callback backup"],
                "summary": "Restoring callback history records from a JSONL GZIP backup.",
                "description": "Restoring callback history records from a JSONL GZIP backup.\n\nSupports three restoration strategies:\n\n    MERGE: (default): Only inserts new records that don't exist\n    SKIP: Skips the entire restore if any records already exist\n    OVERWRITE: Deletes existing records before inserting all from backup\n\nRequest parameters:\n\n    file: Required - The backup file to restore (GZIP-compressed JSONL format)\n    strategy: Optional - Restoration strategy (MERGE|SKIP|OVERWRITE), defaults to MERGE\n\nReturns:\n    CallbackHistoryRestoreResult object containing:\n\n    total: Total records in backup\n    inserted: Number of new records inserted\n    deleted: Number of existing records deleted (OVERWRITE only)\n    skipped: Number of records skipped (due to existing or strategy)",
                "operationId": "CallbackHistoryBackupEndpoints_restore_backup_callbridge_v1_history_backup_restore_post",
                "parameters": [
                    {
                        "name": "strategy",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "$ref": "#/components/schemas/RestoreStrategy",
                            "title": "Restore strategy",
                            "description": "Restore strategy",
                            "default": "merge"
                        },
                        "description": "Restore strategy"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_CallbackHistoryBackupEndpoints_restore_backup_callbridge_v1_history_backup_restore_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_CallbackHistoryRestoreResult_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/history": {
            "get": {
                "tags": ["Callback history"],
                "summary": "List callback history records",
                "operationId": "CallbackHistoryEndpoints_list_history_callbridge_v1_history_get",
                "parameters": [
                    {
                        "name": "ids",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "List of identifiers for filtering",
                            "title": "Ids"
                        },
                        "description": "List of identifiers for filtering"
                    },
                    {
                        "name": "createdBefore",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Upper bound for creation date filter",
                            "title": "Createdbefore"
                        },
                        "description": "Upper bound for creation date filter"
                    },
                    {
                        "name": "createdAfter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Lower bound for creation date filter",
                            "title": "Createdafter"
                        },
                        "description": "Lower bound for creation date filter"
                    },
                    {
                        "name": "updatedBefore",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Upper bound for update date filter",
                            "title": "Updatedbefore"
                        },
                        "description": "Upper bound for update date filter"
                    },
                    {
                        "name": "updatedAfter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Lower bound for update date filter",
                            "title": "Updatedafter"
                        },
                        "description": "Lower bound for update date filter"
                    },
                    {
                        "name": "currentPage",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Current page number (starting from 1)",
                            "default": 1,
                            "title": "Currentpage"
                        },
                        "description": "Current page number (starting from 1)"
                    },
                    {
                        "name": "pageSize",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Number of records per page",
                            "default": 20,
                            "title": "Pagesize"
                        },
                        "description": "Number of records per page"
                    },
                    {
                        "name": "searchField",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Search fields",
                            "description": "List of fields to perform the search on"
                        },
                        "description": "List of fields to perform the search on"
                    },
                    {
                        "name": "searchString",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Search strings",
                            "description": "List of values to search for in corresponding fields"
                        },
                        "description": "List of values to search for in corresponding fields"
                    },
                    {
                        "name": "searchIgnoreCase",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "title": "Case sensitivity",
                            "description": "Determines if the search should be case insensitive",
                            "default": true
                        },
                        "description": "Determines if the search should be case insensitive"
                    },
                    {
                        "name": "orderBy",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Sorting field",
                            "description": "Field to sort the results by",
                            "default": "created_at"
                        },
                        "description": "Field to sort the results by"
                    },
                    {
                        "name": "sortOrder",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "enum": ["asc", "desc"],
                            "type": "string",
                            "title": "Sorting order",
                            "description": "Sort order: 'asc' or 'desc'",
                            "default": "desc"
                        },
                        "description": "Sort order: 'asc' or 'desc'"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_OffsetPagination_CallbackHistoryRead__"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/history/{callback_id}": {
            "get": {
                "tags": ["Callback history"],
                "summary": "Get callback record by ID",
                "operationId": "CallbackHistoryEndpoints_get_callback_callbridge_v1_history__callback_id__get",
                "parameters": [
                    {
                        "name": "callback_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "description": "The unique identifier of the callback.",
                            "title": "Callback Id"
                        },
                        "description": "The unique identifier of the callback.",
                        "example": "123e4567-e89b-12d3-a456-426614174999"
                    },
                    {
                        "name": "ids",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "List of identifiers for filtering",
                            "title": "Ids"
                        },
                        "description": "List of identifiers for filtering"
                    },
                    {
                        "name": "createdBefore",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Upper bound for creation date filter",
                            "title": "Createdbefore"
                        },
                        "description": "Upper bound for creation date filter"
                    },
                    {
                        "name": "createdAfter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Lower bound for creation date filter",
                            "title": "Createdafter"
                        },
                        "description": "Lower bound for creation date filter"
                    },
                    {
                        "name": "updatedBefore",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Upper bound for update date filter",
                            "title": "Updatedbefore"
                        },
                        "description": "Upper bound for update date filter"
                    },
                    {
                        "name": "updatedAfter",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Lower bound for update date filter",
                            "title": "Updatedafter"
                        },
                        "description": "Lower bound for update date filter"
                    },
                    {
                        "name": "currentPage",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Current page number (starting from 1)",
                            "default": 1,
                            "title": "Currentpage"
                        },
                        "description": "Current page number (starting from 1)"
                    },
                    {
                        "name": "pageSize",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Number of records per page",
                            "default": 20,
                            "title": "Pagesize"
                        },
                        "description": "Number of records per page"
                    },
                    {
                        "name": "searchField",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Search fields",
                            "description": "List of fields to perform the search on"
                        },
                        "description": "List of fields to perform the search on"
                    },
                    {
                        "name": "searchString",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Search strings",
                            "description": "List of values to search for in corresponding fields"
                        },
                        "description": "List of values to search for in corresponding fields"
                    },
                    {
                        "name": "searchIgnoreCase",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "title": "Case sensitivity",
                            "description": "Determines if the search should be case insensitive",
                            "default": true
                        },
                        "description": "Determines if the search should be case insensitive"
                    },
                    {
                        "name": "orderBy",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Sorting field",
                            "description": "Field to sort the results by",
                            "default": "created_at"
                        },
                        "description": "Field to sort the results by"
                    },
                    {
                        "name": "sortOrder",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "enum": ["asc", "desc"],
                            "type": "string",
                            "title": "Sorting order",
                            "description": "Sort order: 'asc' or 'desc'",
                            "default": "desc"
                        },
                        "description": "Sort order: 'asc' or 'desc'"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_OffsetPagination_CallbackHistoryRead__"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/history/{callback_id}/retry": {
            "get": {
                "tags": ["Callback history"],
                "summary": "Retry callback by history ID",
                "description": "This endpoint is deprecated and will be removed in a future version.\n             Use `/callbridge/v1/history/retry/bulk`",
                "operationId": "CallbackHistoryEndpoints_retry_by_callback_id_callbridge_v1_history__callback_id__retry_get",
                "deprecated": true,
                "parameters": [
                    {
                        "name": "callback_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "description": "The unique identifier of the callback.",
                            "title": "Callback Id"
                        },
                        "description": "The unique identifier of the callback.",
                        "example": "123e4567-e89b-12d3-a456-426614174999"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_DeliveryRequestMessage_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/callbridge/v1/history/retry/bulk": {
            "post": {
                "tags": ["Callback history"],
                "summary": "Retry all callbacks by listed history IDs",
                "operationId": "CallbackHistoryEndpoints_retry_bulk_by_callback_ids_callbridge_v1_history_retry_bulk_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CallbackRetryRequestItems"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_CallbackRetryResponse_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ApiResponse_CallbackHistoryRestoreResult_": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "$ref": "#/components/schemas/CallbackHistoryRestoreResult",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[CallbackHistoryRestoreResult]"
            },
            "ApiResponse_CallbackMappingRead_": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "$ref": "#/components/schemas/CallbackMappingRead",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[CallbackMappingRead]"
            },
            "ApiResponse_CallbackRetryResponse_": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "$ref": "#/components/schemas/CallbackRetryResponse",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[CallbackRetryResponse]"
            },
            "ApiResponse_DeliveryRequestMessage_": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "$ref": "#/components/schemas/DeliveryRequestMessage",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[DeliveryRequestMessage]"
            },
            "ApiResponse_NoneType_": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "type": "null",
                        "title": "Data",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[NoneType]"
            },
            "ApiResponse_OffsetPagination_CallbackHistoryBackup__": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "$ref": "#/components/schemas/OffsetPagination_CallbackHistoryBackup_",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[OffsetPagination[CallbackHistoryBackup]]"
            },
            "ApiResponse_OffsetPagination_CallbackHistoryRead__": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "$ref": "#/components/schemas/OffsetPagination_CallbackHistoryRead_",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[OffsetPagination[CallbackHistoryRead]]"
            },
            "ApiResponse_OffsetPagination_CallbackMappingRead__": {
                "properties": {
                    "success": {
                        "type": "boolean",
                        "title": "Success",
                        "description": "Indicates whether the request was successful.",
                        "default": true
                    },
                    "data": {
                        "$ref": "#/components/schemas/OffsetPagination_CallbackMappingRead_",
                        "description": "The actual response data if the request was successful."
                    },
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorBody"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "The error details if the request was not successful."
                    },
                    "meta": {
                        "anyOf": [
                            {},
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Meta",
                        "description": "The meta details if the request. DEPRECATED",
                        "deprecated": true
                    }
                },
                "type": "object",
                "required": ["data"],
                "title": "ApiResponse[OffsetPagination[CallbackMappingRead]]"
            },
            "Body_CallbackHistoryBackupEndpoints_restore_backup_callbridge_v1_history_backup_restore_post": {
                "properties": {
                    "file": {
                        "type": "string",
                        "format": "binary",
                        "title": "User backup file",
                        "description": "Put GZIP compressed .jsonl archive"
                    }
                },
                "type": "object",
                "required": ["file"],
                "title": "Body_CallbackHistoryBackupEndpoints_restore_backup_callbridge_v1_history_backup_restore_post"
            },
            "CallbackHistoryBackup": {
                "properties": {
                    "file_name": {
                        "type": "string",
                        "title": "File Name",
                        "description": "File name of the backup"
                    },
                    "file_size": {
                        "type": "integer",
                        "title": "File Size",
                        "description": "File size in bytes"
                    },
                    "created": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created",
                        "description": "Date when the backup was created"
                    },
                    "records_count": {
                        "type": "integer",
                        "title": "Records Count",
                        "description": "Number of records in backup"
                    }
                },
                "type": "object",
                "required": ["file_name", "file_size", "created", "records_count"],
                "title": "CallbackHistoryBackup"
            },
            "CallbackHistoryRead": {
                "properties": {
                    "original_url": {
                        "type": "string",
                        "title": "Original Url",
                        "description": "Full original callback URL",
                        "examples": ["https://..."]
                    },
                    "request_method": {
                        "type": "string",
                        "title": "Request Method",
                        "description": "HTTP method",
                        "examples": ["POST"]
                    },
                    "request_url": {
                        "type": "string",
                        "title": "Request Url",
                        "description": "Full callback URL",
                        "examples": ["https://..."]
                    },
                    "request_headers": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Request Headers",
                        "description": "Incoming headers"
                    },
                    "request_params": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Request Params",
                        "description": "Incoming query params"
                    },
                    "request_body": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Request Body",
                        "description": "Incoming body"
                    },
                    "response_status": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Response Status",
                        "description": "HTTP status code returned by destination"
                    },
                    "response_headers": {
                        "anyOf": [
                            {
                                "additionalProperties": true,
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Response Headers",
                        "description": "Response headers"
                    },
                    "response_body": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Response Body",
                        "description": "Response body"
                    },
                    "delivered_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Delivered At",
                        "description": "Actual delivery time"
                    },
                    "transaction_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Transaction Id",
                        "description": "Transaction ID"
                    },
                    "external_order_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "External Order Id",
                        "description": "External Order ID"
                    },
                    "status": {
                        "$ref": "#/components/schemas/CallbackStatusEnum",
                        "description": "Processing status"
                    },
                    "trigger_type": {
                        "$ref": "#/components/schemas/CallbackTriggerType",
                        "description": "What triggered this delivery"
                    },
                    "attempts": {
                        "type": "integer",
                        "title": "Attempts",
                        "description": "How many times attempted",
                        "default": 1
                    },
                    "next_retry_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Next Retry At",
                        "description": "Planned time for next retry"
                    },
                    "error_message": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Error Message",
                        "description": "Error explanation if failed"
                    },
                    "changes_history": {
                        "items": {
                            "additionalProperties": true,
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Changes History",
                        "description": "Changes history"
                    },
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Id",
                        "description": "Identifier of the callback history"
                    },
                    "mapping_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Mapping Id",
                        "description": "Linked mapping if matched"
                    },
                    "callback_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Callback Id",
                        "description": "Identifier of the callback attempt flow"
                    },
                    "mapping": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/CallbackMappingBase"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Callback Mapping entity"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Updated At"
                    }
                },
                "type": "object",
                "required": [
                    "original_url",
                    "request_method",
                    "request_url",
                    "request_headers",
                    "request_params",
                    "status",
                    "trigger_type",
                    "id",
                    "mapping_id",
                    "callback_id",
                    "created_at",
                    "updated_at"
                ],
                "title": "CallbackHistoryRead"
            },
            "CallbackHistoryRestoreResult": {
                "properties": {
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "Number records in backup"
                    },
                    "inserted": {
                        "type": "integer",
                        "title": "Inserted",
                        "description": "Number of inserted records",
                        "default": 0
                    },
                    "deleted": {
                        "type": "integer",
                        "title": "Deleted",
                        "description": "Number of deleted records",
                        "default": 0
                    },
                    "skipped": {
                        "type": "integer",
                        "title": "Skipped",
                        "description": "Number of skipped records",
                        "default": 0
                    }
                },
                "type": "object",
                "required": ["total"],
                "title": "CallbackHistoryRestoreResult"
            },
            "CallbackMappingBase": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Name of the CallbackMapping",
                        "examples": ["adapter.status"]
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Description of the CallbackMapping",
                        "examples": ["This CallbackMapping is used for adapter callback"]
                    },
                    "external_path": {
                        "type": "string",
                        "title": "External Path",
                        "description": "Full external path exposed to clients",
                        "examples": ["/api/health"]
                    },
                    "internal_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Internal Path",
                        "description": "Full internal URL path to route the request to",
                        "examples": ["http://callbridge_api:8000/health"]
                    },
                    "adapter_nats_subject": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adapter Nats Subject",
                        "description": "NATS subject for the adapter to publish messages to",
                        "examples": ["adapters.pay4u.callback.status.update"]
                    },
                    "terminal": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/Terminal-Output"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Terminal to which the callback is associated"
                    },
                    "retry_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RetryPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Retry behavior configuration for delivery attempts"
                    },
                    "security_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SecurityPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Security policy including IP filtering and rate limiting"
                    }
                },
                "type": "object",
                "required": ["name", "external_path"],
                "title": "CallbackMappingBase"
            },
            "CallbackMappingCreate": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Name of the CallbackMapping",
                        "examples": ["adapter.status"]
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Description of the CallbackMapping",
                        "examples": ["This CallbackMapping is used for adapter callback"]
                    },
                    "external_path": {
                        "type": "string",
                        "title": "External Path",
                        "description": "Full external path exposed to clients",
                        "examples": ["/api/health"]
                    },
                    "internal_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Internal Path",
                        "description": "Full internal URL path to route the request to",
                        "examples": ["http://callbridge_api:8000/health"]
                    },
                    "adapter_nats_subject": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adapter Nats Subject",
                        "description": "NATS subject for the adapter to publish messages to",
                        "examples": ["adapters.pay4u.callback.status.update"]
                    },
                    "terminal": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/Terminal-Input"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Terminal to which the callback is associated"
                    },
                    "retry_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RetryPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Retry behavior configuration for delivery attempts"
                    },
                    "security_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SecurityPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Security policy including IP filtering and rate limiting"
                    }
                },
                "type": "object",
                "required": ["name", "external_path"],
                "title": "CallbackMappingCreate"
            },
            "CallbackMappingRead": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Name of the CallbackMapping",
                        "examples": ["adapter.status"]
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Description of the CallbackMapping",
                        "examples": ["This CallbackMapping is used for adapter callback"]
                    },
                    "external_path": {
                        "type": "string",
                        "title": "External Path",
                        "description": "Full external path exposed to clients",
                        "examples": ["/api/health"]
                    },
                    "internal_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Internal Path",
                        "description": "Full internal URL path to route the request to",
                        "examples": ["http://callbridge_api:8000/health"]
                    },
                    "adapter_nats_subject": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adapter Nats Subject",
                        "description": "NATS subject for the adapter to publish messages to",
                        "examples": ["adapters.pay4u.callback.status.update"]
                    },
                    "terminal": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/Terminal-Output"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Terminal to which the callback is associated"
                    },
                    "retry_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RetryPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Retry behavior configuration for delivery attempts"
                    },
                    "security_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SecurityPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Security policy including IP filtering and rate limiting"
                    },
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Id"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Updated At"
                    },
                    "callback_url": {
                        "type": "string",
                        "title": "Callback Url",
                        "description": "Full callback_url path exposed to internal service",
                        "readOnly": true,
                        "examples": ["https://my.service.com/api/health"]
                    }
                },
                "type": "object",
                "required": ["name", "external_path", "id", "created_at", "updated_at", "callback_url"],
                "title": "CallbackMappingRead"
            },
            "CallbackMappingUpdate": {
                "properties": {
                    "name": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Name",
                        "description": "Name of the CallbackMapping",
                        "examples": ["adapter.status"]
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Description of the CallbackMapping",
                        "examples": ["This CallbackMapping is used for adapter callback"]
                    },
                    "external_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "External Path",
                        "description": "New external path",
                        "examples": ["/adapter/v1/callback/new"]
                    },
                    "internal_path": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Internal Path",
                        "description": "New internal delivery path",
                        "examples": ["http://adapter_callback:8000/new/target"]
                    },
                    "adapter_nats_subject": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adapter Nats Subject",
                        "description": "NATS subject for the adapter to publish messages to",
                        "examples": ["adapters.pay4u.callback.status.update"]
                    },
                    "terminal": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/Terminal-Input"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Terminal to which the callback is associated"
                    },
                    "retry_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RetryPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Updated retry policy"
                    },
                    "security_policy": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/SecurityPolicyConfig"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Updated security policy"
                    }
                },
                "type": "object",
                "title": "CallbackMappingUpdate"
            },
            "CallbackRetryRequestItems": {
                "properties": {
                    "callback_ids": {
                        "items": {
                            "type": "string",
                            "format": "uuid"
                        },
                        "type": "array",
                        "title": "Callback Ids",
                        "description": "List unique identifiers of the callback"
                    }
                },
                "type": "object",
                "required": ["callback_ids"],
                "title": "CallbackRetryRequestItems"
            },
            "CallbackRetryResponse": {
                "properties": {
                    "delivered": {
                        "items": {
                            "$ref": "#/components/schemas/DeliveryRequestMessage"
                        },
                        "type": "array",
                        "title": "Delivered",
                        "description": "Successfully delivered callbacks"
                    },
                    "skipped": {
                        "items": {
                            "$ref": "#/components/schemas/CallbackRetrySkippedItem"
                        },
                        "type": "array",
                        "title": "Skipped",
                        "description": "Skipped callbacks"
                    }
                },
                "type": "object",
                "title": "CallbackRetryResponse"
            },
            "CallbackRetrySkippedItem": {
                "properties": {
                    "callback_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Callback Id",
                        "description": "Identifier of the callback"
                    },
                    "reason": {
                        "type": "string",
                        "title": "Reason",
                        "description": "Reason for skipping"
                    }
                },
                "type": "object",
                "required": ["callback_id", "reason"],
                "title": "CallbackRetrySkippedItem"
            },
            "CallbackStatusEnum": {
                "type": "string",
                "enum": ["queued", "processing", "success", "error", "sync"],
                "title": "CallbackStatusEnum"
            },
            "CallbackTriggerType": {
                "type": "string",
                "enum": ["system", "retry", "manual", "unknown"],
                "title": "CallbackTriggerType"
            },
            "DeliveryRequestMessage": {
                "properties": {
                    "callback_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Callback Id",
                        "description": "Callback tracking ID"
                    },
                    "mapping_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Mapping Id",
                        "description": "Associated mapping ID"
                    },
                    "original_url": {
                        "type": "string",
                        "title": "Original Url",
                        "description": "Target internal URL"
                    },
                    "url": {
                        "type": "string",
                        "title": "Url",
                        "description": "Target internal URL"
                    },
                    "method": {
                        "type": "string",
                        "title": "Method",
                        "description": "HTTP method"
                    },
                    "params": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Params",
                        "description": "Query parameters"
                    },
                    "headers": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object",
                        "title": "Headers",
                        "description": "Request headers"
                    },
                    "body": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Body",
                        "description": "Raw request body"
                    },
                    "attempt": {
                        "type": "integer",
                        "title": "Attempt",
                        "description": "Current attempt count",
                        "default": 1
                    },
                    "next_retry_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Next Retry At",
                        "description": "Planned time for next retry"
                    },
                    "retry_policy": {
                        "$ref": "#/components/schemas/RetryPolicyConfig",
                        "description": "Retry configuration"
                    },
                    "security_policy": {
                        "$ref": "#/components/schemas/SecurityPolicyConfig",
                        "description": "Security and access rules"
                    },
                    "trigger_type": {
                        "$ref": "#/components/schemas/CallbackTriggerType",
                        "description": "What triggered this delivery"
                    },
                    "adapter_nats_subject": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adapter Nats Subject",
                        "description": "NATS subject for the adapter to publish messages to",
                        "examples": ["adapters.pay4u.callback.status.update"]
                    },
                    "terminal": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/Terminal-Output"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Terminal to which the callback is associated"
                    }
                },
                "type": "object",
                "required": ["callback_id", "mapping_id", "original_url", "url", "method", "trigger_type"],
                "title": "DeliveryRequestMessage"
            },
            "ErrorBody": {
                "properties": {
                    "error_type": {
                        "type": "string",
                        "title": "Error Type",
                        "description": "A string identifier for the error type.",
                        "examples": ["ValidationError"]
                    },
                    "error_message": {
                        "type": "string",
                        "title": "Error Message",
                        "description": "A human-readable error message describing the issue.",
                        "examples": ["Invalid input data."]
                    }
                },
                "type": "object",
                "required": ["error_type", "error_message"],
                "title": "ErrorBody"
            },
            "Fee": {
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Id",
                        "description": "Unique identifier for the fee",
                        "examples": ["123e4567-e89b-12d3-a456-426614174000"]
                    },
                    "recipient": {
                        "type": "string",
                        "title": "Recipient",
                        "description": "Recipient for the fee",
                        "examples": ["recipient@example.com"]
                    },
                    "type": {
                        "$ref": "#/components/schemas/FeeType",
                        "description": "Type of the fee",
                        "examples": [3]
                    },
                    "currency": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Currency",
                        "description": "Currency code for the fee",
                        "examples": ["USD"]
                    },
                    "value": {
                        "$ref": "#/components/schemas/RateValue",
                        "description": "Rate value for the fee"
                    },
                    "direction": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/TransactionType"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Fee direction if applicable",
                        "examples": [1]
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Optional fee description",
                        "examples": ["Fee for service"]
                    }
                },
                "type": "object",
                "required": ["recipient", "type", "value"],
                "title": "Fee"
            },
            "FeeType": {
                "type": "integer",
                "enum": [1, 2, 3],
                "title": "FeeType"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "HealthStatus": {
                "properties": {
                    "status": {
                        "$ref": "#/components/schemas/Status",
                        "description": "Indicates the health status of the service.",
                        "examples": ["Ok"]
                    }
                },
                "type": "object",
                "required": ["status"],
                "title": "HealthStatus"
            },
            "OffsetPagination_CallbackHistoryBackup_": {
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/CallbackHistoryBackup"
                        },
                        "type": "array",
                        "title": "Items",
                        "description": "A list of items in the current page."
                    },
                    "limit": {
                        "type": "integer",
                        "title": "Limit",
                        "description": "The maximum number of items returned in a single page.",
                        "examples": [10]
                    },
                    "offset": {
                        "type": "integer",
                        "title": "Offset",
                        "description": "The starting index for the current page.",
                        "examples": [0]
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "The total number of available items.",
                        "examples": [100]
                    }
                },
                "type": "object",
                "required": ["items", "limit", "offset", "total"],
                "title": "OffsetPagination[CallbackHistoryBackup]"
            },
            "OffsetPagination_CallbackHistoryRead_": {
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/CallbackHistoryRead"
                        },
                        "type": "array",
                        "title": "Items",
                        "description": "A list of items in the current page."
                    },
                    "limit": {
                        "type": "integer",
                        "title": "Limit",
                        "description": "The maximum number of items returned in a single page.",
                        "examples": [10]
                    },
                    "offset": {
                        "type": "integer",
                        "title": "Offset",
                        "description": "The starting index for the current page.",
                        "examples": [0]
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "The total number of available items.",
                        "examples": [100]
                    }
                },
                "type": "object",
                "required": ["items", "limit", "offset", "total"],
                "title": "OffsetPagination[CallbackHistoryRead]"
            },
            "OffsetPagination_CallbackMappingRead_": {
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/CallbackMappingRead"
                        },
                        "type": "array",
                        "title": "Items",
                        "description": "A list of items in the current page."
                    },
                    "limit": {
                        "type": "integer",
                        "title": "Limit",
                        "description": "The maximum number of items returned in a single page.",
                        "examples": [10]
                    },
                    "offset": {
                        "type": "integer",
                        "title": "Offset",
                        "description": "The starting index for the current page.",
                        "examples": [0]
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total",
                        "description": "The total number of available items.",
                        "examples": [100]
                    }
                },
                "type": "object",
                "required": ["items", "limit", "offset", "total"],
                "title": "OffsetPagination[CallbackMappingRead]"
            },
            "RateValue": {
                "properties": {
                    "quantity": {
                        "type": "integer",
                        "minimum": 0,
                        "title": "Quantity",
                        "description": "The quantity part of the rate value. It represents the numeric value without the decimal separator. For example, '12.34' is stored as 1234.",
                        "default": 0,
                        "examples": [1234]
                    },
                    "accuracy": {
                        "type": "integer",
                        "minimum": 0,
                        "title": "Accuracy",
                        "description": "The accuracy factor for the rate value. It must be a power of 10 (e.g., 1, 10, 100, 1000) corresponding to the number of decimal places.",
                        "default": 1,
                        "examples": [100]
                    }
                },
                "type": "object",
                "title": "RateValue"
            },
            "RestoreStrategy": {
                "type": "string",
                "enum": ["merge", "skip", "overwrite"],
                "title": "RestoreStrategy"
            },
            "RetryPolicyConfig": {
                "properties": {
                    "enabled": {
                        "type": "boolean",
                        "title": "Enabled",
                        "description": "Enable retries for this mapping",
                        "default": true,
                        "examples": [true]
                    },
                    "max_attempts": {
                        "type": "integer",
                        "title": "Max Attempts",
                        "description": "Maximum number of retry attempts",
                        "default": 5,
                        "examples": [3]
                    },
                    "base_delay": {
                        "type": "integer",
                        "title": "Base Delay",
                        "description": "Base delay (in seconds) between retries",
                        "default": 10,
                        "examples": [30]
                    },
                    "retry_on_status": {
                        "items": {
                            "type": "integer"
                        },
                        "type": "array",
                        "title": "Retry On Status",
                        "description": "List of HTTP status codes that should trigger a retry. Empty list disables retry based on status code.",
                        "examples": [[400, 500]]
                    },
                    "strategy": {
                        "$ref": "#/components/schemas/RetryStrategy",
                        "description": "Backoff strategy to use",
                        "default": "exponential",
                        "examples": ["fixed"]
                    }
                },
                "type": "object",
                "title": "RetryPolicyConfig"
            },
            "RetryStrategy": {
                "type": "string",
                "enum": ["fixed", "exponential"],
                "title": "RetryStrategy"
            },
            "SecurityPolicyConfig": {
                "properties": {
                    "allowed_ips": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "ipvanyaddress"
                                },
                                {
                                    "type": "string",
                                    "format": "ipvanynetwork"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Allowed Ips",
                        "description": "List of allowed IPs or networks (CIDR) that can access the route",
                        "examples": [["192.168.1.10", "10.0.0.0/24"]]
                    },
                    "blocked_ips": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "ipvanyaddress"
                                },
                                {
                                    "type": "string",
                                    "format": "ipvanynetwork"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Blocked Ips",
                        "description": "IPs or networks to explicitly deny (takes precedence over allowed)",
                        "examples": [["0.0.0.0/0"]]
                    },
                    "rate_limit": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Rate Limit",
                        "description": "Maximum number of requests per minute per source IP",
                        "examples": [100]
                    },
                    "burst_limit": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Burst Limit",
                        "description": "Number of requests allowed to exceed the rate limit in bursts",
                        "examples": [20]
                    },
                    "auth_required": {
                        "type": "boolean",
                        "title": "Auth Required",
                        "description": "Whether authentication is required (token/header/etc)",
                        "default": false,
                        "examples": [true]
                    },
                    "blocked": {
                        "type": "boolean",
                        "title": "Blocked",
                        "description": "Entire route is blocked and should not process any callbacks",
                        "default": false,
                        "examples": [false]
                    },
                    "enforcement_mode": {
                        "type": "string",
                        "enum": ["log", "strict"],
                        "title": "Enforcement Mode",
                        "description": "Mode of policy enforcement: 'log' only logs violations, 'strict' blocks them",
                        "default": "strict",
                        "examples": ["strict"]
                    }
                },
                "type": "object",
                "title": "SecurityPolicyConfig"
            },
            "Status": {
                "type": "string",
                "enum": ["Ok"],
                "title": "Status"
            },
            "Terminal-Input": {
                "properties": {
                    "terminal_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Terminal Id",
                        "description": "Unique identifier of the terminal",
                        "examples": ["123e4567-e89b-12d3-a456-426614174000"]
                    },
                    "verbose_name": {
                        "type": "string",
                        "title": "Verbose Name",
                        "description": "Name of the terminal",
                        "examples": ["Main Terminal"]
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Description of the terminal",
                        "examples": ["This is the main terminal"]
                    },
                    "fees": {
                        "additionalProperties": {
                            "$ref": "#/components/schemas/Fee"
                        },
                        "propertyNames": {
                            "format": "uuid"
                        },
                        "type": "object",
                        "title": "Fees",
                        "description": "Mapping of fee configurations with fee.id as key",
                        "examples": [
                            {
                                "123e4567-e89b-12d3-a456-426614174000": {
                                    "currency": "USD",
                                    "description": "Fee for service",
                                    "direction": 1,
                                    "id": "123e4567-e89b-12d3-a456-426614174000",
                                    "recipient": "recipient@example.com",
                                    "type": 3,
                                    "value": {
                                        "accuracy": 100,
                                        "quantity": 1234
                                    }
                                }
                            }
                        ]
                    },
                    "provider": {
                        "type": "string",
                        "title": "Provider",
                        "description": "Provider name associated with the terminal",
                        "examples": ["ProviderA"]
                    },
                    "auth": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Auth",
                        "description": "Authentication data for the terminal",
                        "examples": [
                            {
                                "password": "pass",
                                "username": "user"
                            }
                        ]
                    },
                    "account_created": {
                        "type": "boolean",
                        "title": "Account Created",
                        "description": "Indicates if the account is created",
                        "default": false,
                        "examples": [false]
                    },
                    "callback_url": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Callback Url",
                        "description": "Callback URL template or final callback URL. If the value contains '{api_key}', it will be replaced with auth['api_key'] during registration."
                    },
                    "details": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Details",
                        "description": "Additional details about the terminal",
                        "examples": [
                            {
                                "key": "value"
                            }
                        ]
                    }
                },
                "type": "object",
                "required": ["terminal_id", "verbose_name", "provider"],
                "title": "Terminal"
            },
            "Terminal-Output": {
                "properties": {
                    "terminal_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Terminal Id",
                        "description": "Unique identifier of the terminal",
                        "examples": ["123e4567-e89b-12d3-a456-426614174000"]
                    },
                    "verbose_name": {
                        "type": "string",
                        "title": "Verbose Name",
                        "description": "Name of the terminal",
                        "examples": ["Main Terminal"]
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Description of the terminal",
                        "examples": ["This is the main terminal"]
                    },
                    "fees": {
                        "additionalProperties": {
                            "$ref": "#/components/schemas/Fee"
                        },
                        "propertyNames": {
                            "format": "uuid"
                        },
                        "type": "object",
                        "title": "Fees",
                        "description": "Mapping of fee configurations with fee.id as key",
                        "examples": [
                            {
                                "123e4567-e89b-12d3-a456-426614174000": {
                                    "currency": "USD",
                                    "description": "Fee for service",
                                    "direction": 1,
                                    "id": "123e4567-e89b-12d3-a456-426614174000",
                                    "recipient": "recipient@example.com",
                                    "type": 3,
                                    "value": {
                                        "accuracy": 100,
                                        "quantity": 1234
                                    }
                                }
                            }
                        ]
                    },
                    "provider": {
                        "type": "string",
                        "title": "Provider",
                        "description": "Provider name associated with the terminal",
                        "examples": ["ProviderA"]
                    },
                    "auth": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Auth",
                        "description": "Authentication data for the terminal",
                        "examples": [
                            {
                                "password": "pass",
                                "username": "user"
                            }
                        ]
                    },
                    "account_created": {
                        "type": "boolean",
                        "title": "Account Created",
                        "description": "Indicates if the account is created",
                        "default": false,
                        "examples": [false]
                    },
                    "callback_url": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Callback Url",
                        "description": "Callback URL template or final callback URL. If the value contains '{api_key}', it will be replaced with auth['api_key'] during registration."
                    },
                    "details": {
                        "additionalProperties": true,
                        "type": "object",
                        "title": "Details",
                        "description": "Additional details about the terminal",
                        "examples": [
                            {
                                "key": "value"
                            }
                        ]
                    }
                },
                "type": "object",
                "required": ["terminal_id", "verbose_name", "provider"],
                "title": "Terminal"
            },
            "TransactionType": {
                "type": "integer",
                "enum": [1, 2, 3, 4],
                "title": "TransactionType"
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": ["loc", "msg", "type"],
                "title": "ValidationError"
            }
        }
    }
}
